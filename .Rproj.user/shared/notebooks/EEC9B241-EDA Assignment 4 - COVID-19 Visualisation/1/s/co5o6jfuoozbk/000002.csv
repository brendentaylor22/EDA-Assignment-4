"0","#Get population data"
"0","pop_dat = googleVis::Population %>%"
"0","  select(c(""Country"", ""Population"")) %>%"
"0","  rename(country2 = Country) %>%"
"0","  rename(pop = Population)"
"0",""
"0","#Add country codes as per above"
"0","pop_dat$iso3c = countrycode(sourcevar = pop_dat$country2, "
"0","                               origin = ""country.name"", destination = ""wb"")"
"0","#Add Western Sahara and Vatican"
"0","pop_dat = pop_dat %>%"
"0","  mutate(iso3c = ifelse(country2 == ""Western Sahara"", ""ESH"", iso3c)) %>%"
"0","  mutate(iso3c = ifelse(country2 == ""Vatican City"", ""VAT"", iso3c))"
"0",""
"0","#Add population data to dat"
"0","dat = left_join(dat, pop_dat, by = c(""iso3c"")) %>%"
"0","  select(-c(""country2"")) %>%"
"0","  mutate(pop = ifelse(Country == ""Taiwan"", 23780000, pop)) %>%"
"0","  mutate(pop = ifelse(Country == ""South Sudan"", 12580000, pop)) %>%"
"0","  mutate(pop = ifelse(Country == ""Kosovo"", 1831000, pop)) %>% #Add missing populations"
"0","  mutate(cases_per_mil = Confirmed*1000000/pop) #Calc cases per million"
